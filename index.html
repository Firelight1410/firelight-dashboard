<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Firelight Chat Dashboard</title>
<style>
  /* ====== CSS STYLES (WhatsApp Web Dark) ====== */
  :root{
    --bg-app:#0b141a;--bg-sidebar:#111b21;--bg-cards:#202c33;--bg-hover:#2a3942;
    --bubble-in:#005c4b;--bubble-out:#202c33;--accent:#00a884;
    --muted:#8696a0;--text:#e9edef;
  }
  *{box-sizing:border-box}html,body{height:100%}
  body{margin:0;font-family:Inter,"Segoe UI",Roboto,Arial,sans-serif;
    color:var(--text);background:var(--bg-app);display:flex}
  .app{display:flex;width:100%;height:100vh}
  /* Sidebar */
  .sidebar{width:380px;min-width:320px;background:var(--bg-sidebar);
    display:flex;flex-direction:column;border-right:1px solid #1f2c33}
  .sidebar-header{padding:12px 16px;background:var(--bg-cards);
    border-bottom:1px solid #1f2c33;font-weight:600}
  .search{padding:10px 12px;border-bottom:1px solid #1f2c33}
  .search input{width:100%;background:#1f2c33;border:none;outline:none;
    color:var(--text);padding:10px 15px;border-radius:10px}
  .chatlist{overflow:auto;flex:1}
  .chatitem{display:flex;gap:12px;align-items:center;
    padding:10px 12px;border-bottom:1px solid #1a262e;cursor:pointer}
  .chatitem:hover{background:var(--bg-hover)}.chatitem.active{background:#182229}
  .chatitem .pfp{width:48px;height:48px;border-radius:50%;
    background:#21343b;display:grid;place-items:center;font-weight:700}
  .chatitem .meta{flex:1}.chatitem .meta .name{font-weight:600}
  .chatitem .meta .last{color:var(--muted);font-size:13px}
  /* Chat area */
  .chat{flex:1;display:flex;flex-direction:column}
  .chat-header{background:var(--bg-cards);padding:12px 16px;
    border-bottom:1px solid #1f2c33;display:flex;align-items:center;gap:10px}
  .chat-header .pfp{width:36px;height:36px;border-radius:50%;
    background:#21343b;display:grid;place-items:center;font-weight:700}
  .who .name{font-weight:600}.who .status{font-size:12px;color:var(--muted)}
  .messages{flex:1;padding:20px;overflow:auto;
    background:radial-gradient(#1f2c33 1px,transparent 1px);
    background-size:40px 40px}
  .row{display:flex;margin:4px 0}.row.sent{justify-content:flex-end}
  .bubble{max-width:60%;padding:8px 10px;border-radius:10px;
    font-size:14px;line-height:1.4;word-wrap:break-word}
  .row.sent .bubble{background:var(--bubble-in)}
  .row.recv .bubble{background:var(--bubble-out)}
  .bubble .time{font-size:11px;color:#b7c0c4;margin-left:8px}
  .composer{background:var(--bg-cards);padding:10px 12px;
    border-top:1px solid #1f2c33;display:flex;gap:10px}
  .composer input{flex:1;background:#1f2c33;border:none;border-radius:20px;
    padding:10px 15px;color:var(--text);outline:none}
  .composer button{background:var(--accent);border:none;border-radius:20px;
    padding:10px 20px;font-weight:700;cursor:pointer;color:#032a22}
</style>
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <div class="sidebar-header">Firelight</div>
    <div class="search"><input id="search" placeholder="Search or start a new chat"/></div>
    <div id="chatList" class="chatlist"></div>
  </aside>

  <main class="chat">
    <div class="chat-header">
      <div id="pfp" class="pfp">A</div>
      <div class="who"><div id="name" class="name">Alice</div>
        <div id="status" class="status">online</div></div>
    </div>
    <div id="messages" class="messages"></div>
    <div class="composer">
      <input id="msgInput" placeholder="Type a message"/>
      <button id="send">Send</button>
    </div>
  </main>
</div>

<script>
const chats=[
 {id:'alice',name:'Alice',avatar:'A',online:true,
  msgs:[{who:'recv',text:'Hi! I’d like to book a scaling.',time:'09:10'},
        {who:'sent',text:'Sure — weekday or weekend?',time:'09:11'}]},
 {id:'drchen',name:'Dr. Chen',avatar:'C',online:false,
  msgs:[{who:'sent',text:'Morning Doc — confirming tomorrow’s schedule.',time:'08:05'},
        {who:'recv',text:'Confirmed. 9 patients, first at 9:15.',time:'08:06'}]},
 {id:'ben',name:'Ben',avatar:'B',online:false,
  msgs:[{who:'recv',text:'Hey, do you do polishing on weekends?',time:'Yesterday'},
        {who:'sent',text:'We can do Saturdays 9–6. Want me to check slots?',time:'Yesterday'}]}
];
let active='alice';

function renderList(f=''){
 const list=document.getElementById('chatList');
 list.innerHTML='';
chats.filter(c=>c.name.toLowerCase().includes(f)||c.msgs.at(-1).text.toLowerCase().includes(f))
 .forEach(c=>{
  const el=document.createElement('div');
  el.className='chatitem'+(c.id===active?' active':'');
  el.innerHTML=<div class="pfp"></div>
    <div class="meta"><div class="name"></div>
    <div class="last"></div></div>;
  el.onclick=()=>{active=c.id;renderAll()};
  list.append(el);
 });
}
function renderHead(){
 const c=chats.find(x=>x.id===active);
 document.getElementById('pfp').textContent=c.avatar;
 document.getElementById('name').textContent=c.name;
 document.getElementById('status').textContent=c.online?'online':'last seen recently';
}
function renderMsgs(){
 const box=document.getElementById('messages');
 box.innerHTML='';
 const c=chats.find(x=>x.id===active);
 c.msgs.forEach(m=>{
  const r=document.createElement('div');r.className='row '+(m.who==='sent'?'sent':'recv');
  const b=document.createElement('div');b.className='bubble';
  b.innerHTML=${m.text}<span class="time"></span>;
  r.append(b);box.append(r);
 });
 box.scrollTop=box.scrollHeight;
}
function sendMsg(){
 const inp=document.getElementById('msgInput');
 const t=inp.value.trim();if(!t)return;
 const c=chats.find(x=>x.id===active);
 c.msgs.push({who:'sent',text:t,time:new Date().toTimeString().slice(0,5)});
 inp.value='';renderMsgs();
}
function renderAll(){renderList(document.getElementById('search').value.toLowerCase());renderHead();renderMsgs();}
document.getElementById('send').onclick=sendMsg;
document.getElementById('msgInput').onkeydown=e=>{if(e.key==='Enter'){sendMsg();}};
document.getElementById('search').oninput=e=>{renderList(e.target.value.toLowerCase());};
renderAll();
</script>
</body>
</html>
